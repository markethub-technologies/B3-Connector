<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="generator" content="Doxygen 1.8.11"/>
    <title>OnixS C++ B3 BOE Binary Order Entry: Session Schedule</title>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="onixs-doxygen.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript">
    $(window).scroll(function() {
        if ($(this).scrollTop() > 1)
        {
            $('header').addClass("sticky");
        }
        else
        {
            $('header').removeClass("sticky");
        }
    });
    </script>
</head>
<body>
<header>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
<tbody>
    <tr style="height: 56px;">
        <td id="projectlogo"><a href="http://www.onixs.biz"><img alt="Logo" src="onixs.svg"/></a></td>
        <td style="padding-left: 0.5em;">
            <div id="projectname">OnixS C++ B3 BOE Binary Order Entry
            &#160;<span id="projectnumber">1.3.0</span>
            </div>
            <div id="projectbrief">API Documentation</div>
        </td>
    </tr>
</tbody>
</table>
</div>
</header>
<div id="wrapper">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li class="current"><a href="modules.html"><span>Contents</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Session Schedule<div class="ingroups"><a class="el" href="group__advanced-programming.html">Advanced Programming</a> &raquo; <a class="el" href="group__scheduler.html">Scheduling Sessions for Automatic Connection</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<p>Session Scheduler exposes the <a class="el" href="classOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1SessionSchedule.html" title="Session Schedule. ">OnixS::B3::BOE::Scheduling::SessionSchedule</a> class to define the interval of time during which session must be connected on (active).</p>
<h1><a class="anchor" id="schedule-definition"></a>
Defining Session Connection Time-frames</h1>
<p>The <a class="el" href="classOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1SessionSchedule.html" title="Session Schedule. ">OnixS::B3::BOE::Scheduling::SessionSchedule</a> constructor initializes the session schedule for all supported cases that are based on the given parameters.</p>
<p>The first two parameters (<code>firstDay</code> and <code>lastDay</code>) define the activity week. During these days the session will be always connected at logon time and disconnected at logout time.</p>
<dl class="section note"><dt>Note</dt><dd>All combinations of values for <code>firstDay</code> and <code>lastDay</code> parameters are supported. It is possible for the <code>firstDay</code> parameter value to be greater than value of <code>lastDay</code> parameter. In such a case, schedule will cross the end of the week and continue till <code>lastDay</code>. If <code>firstDay</code> and <code>lastDay</code> parameters are of the same value, then length (number of days) of the activity week depends on the values of <code>logonTime</code> and <code>logoutTime</code> parameters. In particular, if <code>logonTime</code> is less than <code>logoutTime</code>, then the activity week will equal to a single day. However, if <code>logonTime</code> is greater than <code>logoutTime</code>, then the activity week will equal to seven days (first logon will be performed at logon time on the first day, last logout will be performed at logout time a week later).</dd></dl>
<p>The <code>logonTime</code> and <code>logoutTime</code> parameters respectively define time of logon and logout for the session for each activity day.</p>
<p>By default, the Scheduler uses the local time to determine when a session should be connected/disconnected in accordance with the Schedule. In this case, for different time zones, there is a need to create/configure different schedules. However, you can use <a class="el" href="classOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1SessionScheduler.html#a72d11bdd815638cd969f7255623bed8f" title="Activates the UTC usage. ">OnixS::B3::BOE::Scheduling::SessionScheduler::utcTimeUsage</a> option for switching local time to UTC time usage. In this case, the Scheduler will use the UTC time and you can create/configure the one schedule using the UTC time for all time zones. This can be useful when you deploy your application in different time zones and you need the same behavior of the Scheduler in all time zones by creating only one schedule.</p>
<h1><a class="anchor" id="schedule-construction-example"></a>
Example</h1>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceOnixS_1_1B3_1_1BOE.html">OnixS::B3::BOE</a>;</div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceOnixS_1_1B3_1_1BOE_1_1Scheduling.html">OnixS::B3::BOE::Scheduling</a>;</div><div class="line"></div><div class="line"><span class="comment">// Session continues since 8:00 till 17:00 each day of a business week.</span></div><div class="line"><a class="code" href="classOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1SessionSchedule.html">SessionSchedule</a> regularSingleDay(<a class="code" href="structOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1DayOfWeek.html#a8150b7776c2a1749101acf22e868d091a455141191c205fb8f46e2e9da6b0dd47">DayOfWeek::Monday</a>, <a class="code" href="structOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1DayOfWeek.html#a8150b7776c2a1749101acf22e868d091aadb8f1f9f2221414dcd35c6e5f8e7d81">DayOfWeek::Friday</a>,</div><div class="line">                                 <a class="code" href="classOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1TimeOfDay.html">TimeOfDay</a>(8, 0), <a class="code" href="classOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1TimeOfDay.html">TimeOfDay</a>(17, 0));</div></div><!-- fragment --> <h1><a class="anchor" id="advanced-schedule-manipulations"></a>
Advanced Cases</h1>
<p>The schedule construction is simplified with parameters to satisfy the most common use cases. In particular, it exposes only the ability to define logon and logout time equal for all the activity days. However, sometimes it is necessary to define different logon and logout times for different days. <a class="el" href="classOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1SessionSchedule.html" title="Session Schedule. ">OnixS::B3::BOE::Scheduling::SessionSchedule</a> provides this ability through the <a class="el" href="classOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1SessionSchedule.html#a66469ef522379e0459ee7a27862df646">OnixS::B3::BOE::Scheduling::SessionSchedule::logonTime</a> and <a class="el" href="classOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1SessionSchedule.html#a423ae61af56d0a2f44a49455e866e860">OnixS::B3::BOE::Scheduling::SessionSchedule::logoutTime</a> members.</p>
<p>Both <a class="el" href="classOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1SessionSchedule.html#a66469ef522379e0459ee7a27862df646">OnixS::B3::BOE::Scheduling::SessionSchedule::logonTime</a> and <a class="el" href="classOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1SessionSchedule.html#a423ae61af56d0a2f44a49455e866e860">OnixS::B3::BOE::Scheduling::SessionSchedule::logoutTime</a> members return and update logon and logout time appropriately for a given day of the week. Modifying entries of these collections give the more advanced capability to define different logon/logout time for different days.</p>
<h1><a class="anchor" id="advanced-schedule-example"></a>
Example</h1>
<p>The following example demonstrates how a schedule can be updated to make a session to be disconnected earlier on Friday, compared to other days.</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceOnixS_1_1B3_1_1BOE.html">OnixS::B3::BOE</a>;</div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceOnixS_1_1B3_1_1BOE_1_1Scheduling.html">OnixS::B3::BOE::Scheduling</a>;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> constructScheduleWithShortTradingForFriday()</div><div class="line">{</div><div class="line">    <span class="comment">// Initially, construct a schedule with the same logon / logout time for all days.</span></div><div class="line">    <a class="code" href="classOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1SessionSchedule.html">SessionSchedule</a> scheduleWithShortFriday(<a class="code" href="structOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1DayOfWeek.html#a8150b7776c2a1749101acf22e868d091a455141191c205fb8f46e2e9da6b0dd47">DayOfWeek::Monday</a>, <a class="code" href="structOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1DayOfWeek.html#a8150b7776c2a1749101acf22e868d091aadb8f1f9f2221414dcd35c6e5f8e7d81">DayOfWeek::Friday</a>,</div><div class="line">                                            <a class="code" href="classOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1TimeOfDay.html">TimeOfDay</a>(8, 0), <a class="code" href="classOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1TimeOfDay.html">TimeOfDay</a>(17, 0));</div><div class="line"></div><div class="line">    <span class="comment">// Then, update the value of the logout event for Friday.</span></div><div class="line">    scheduleWithShortFriday.logoutTime(<a class="code" href="structOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1DayOfWeek.html#a8150b7776c2a1749101acf22e868d091aadb8f1f9f2221414dcd35c6e5f8e7d81">DayOfWeek::Friday</a>, <a class="code" href="classOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1TimeOfDay.html">TimeOfDay</a>(16, 30));</div><div class="line">}</div></div><!-- fragment --><p> Another example demonstrates how schedule can be updated to define one day off in the middle of the trading week.</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceOnixS_1_1B3_1_1BOE.html">OnixS::B3::BOE</a>;</div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceOnixS_1_1B3_1_1BOE_1_1Scheduling.html">OnixS::B3::BOE::Scheduling</a>;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> constructScheduleWithWednesdayAsOffDay()</div><div class="line">{</div><div class="line">    <span class="comment">// Initially, construct a schedule with the same logon / logout time for all days.</span></div><div class="line">    <a class="code" href="classOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1SessionSchedule.html">SessionSchedule</a> scheduleWithWednesdayOff(<a class="code" href="structOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1DayOfWeek.html#a8150b7776c2a1749101acf22e868d091a455141191c205fb8f46e2e9da6b0dd47">DayOfWeek::Monday</a>, <a class="code" href="structOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1DayOfWeek.html#a8150b7776c2a1749101acf22e868d091aadb8f1f9f2221414dcd35c6e5f8e7d81">DayOfWeek::Friday</a>,</div><div class="line">                                             <a class="code" href="classOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1TimeOfDay.html">TimeOfDay</a>(8, 0), <a class="code" href="classOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1TimeOfDay.html">TimeOfDay</a>(17, 0));</div><div class="line"></div><div class="line">    <span class="comment">// Then, disable logon and logout on Wednesday.</span></div><div class="line">    scheduleWithWednesdayOff.logonTime(<a class="code" href="structOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1DayOfWeek.html#a8150b7776c2a1749101acf22e868d091a0ae230de6136f0671e2f13a0332a620c">DayOfWeek::Wednesday</a>, <a class="code" href="classOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1TimeOfDay.html#ab18b9eec024f6c4068973e4a9b4a8afa">TimeOfDay::bad</a>());</div><div class="line"></div><div class="line">    scheduleWithWednesdayOff.logoutTime(<a class="code" href="structOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1DayOfWeek.html#a8150b7776c2a1749101acf22e868d091a0ae230de6136f0671e2f13a0332a620c">DayOfWeek::Wednesday</a>, <a class="code" href="classOnixS_1_1B3_1_1BOE_1_1Scheduling_1_1TimeOfDay.html#ab18b9eec024f6c4068973e4a9b4a8afa">TimeOfDay::bad</a>());</div><div class="line">}</div></div><!-- fragment --></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<footer>
<hr class="footer"/>
<address class="footer">
    <small>&copy; <a href="http://www.onixs.biz">Onix Solutions [On<span class="corporate-orange">i</span>x<span class="corporate-orange">S</span>]</a>. All rights reserved.</small>
</address>
</footer>
</div> <!-- wrapper -->
</body>
</html>
