<!-- HTML header for doxygen 1.14.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=11"/>
  <meta name="generator" content="Doxygen 1.14.0"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>OnixS C++ B3 Binary UMDF Market Data Handler: Replaying Log Files</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <script type="text/javascript" src="clipboard.js"></script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
  <script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="onixs-doxygen-new.css" rel="stylesheet" type="text/css"/>
</head>
<body>
  <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
  <div id="titlearea">
  <table cellspacing="0" cellpadding="0">
   <tbody>
   <tr id="projectrow">
    <td id="projectlogo"><img alt="Logo" src="onixs.svg" width="140"  height="28"/></td>
    <td id="projectalign">
     <div id="projectname">OnixS C++ B3 Binary UMDF Market Data Handler<span id="projectnumber">&#160;1.9.0</span>
     </div>
     <div id="projectbrief">API documentation</div>
    </td>
      <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
</td>
   </tr>
   </tbody>
  </table>
  </div>
  <!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('group__log-replay.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Replaying Log Files <div class="ingroups"><a class="el" href="group__advanced-programming.html">Advanced Programming</a></div></div></div>
</div><!--header-->
<div class="contents">
<h1 class="doxsection"><a class="anchor" id="replaying-logs"></a>
Using Logs to Replay Market Data</h1>
<p>Under normal flow, the Handler logs all the important aspects of its execution onto the file system. Log files also include original market data processed by the Handler. This information is usually saved for analysis of non-standard situations that may occur during the use of the Handler. However, it also can be used to reproduce standard Handler's behavior for a certain period.</p>
<p>Once Handler was executed with logging enabled, it was possible to use log files for further replay. First of all, logs must be backed up (copied to another location) or the Handler's configuration must be updated to use another directory for new log files because the current implementation of the Handler doesn't support replay from the same folder in which new logs are stored.</p>
<p>Market data replay can be done with the help of a replayLogs member. It accepts an instance of OnixS::B3::MarketData::UMDF::ReplayOptions class containing a list of logs to be replayed.</p>
<p>The collection of log files can be either manually assigned or fulfilled from the provided folder.</p>
<div class="fragment"><div class="line">ReplayOptions replayOptions(<span class="stringliteral">&quot;logStore&quot;</span>);</div>
<div class="line"> </div>
<div class="line">handler.replayLogs(replayOptions);</div>
</div><!-- fragment --><p>Alternatively, it's possible to manually define a list of log files to be replayed. Manually manipulating a list of log files allows replaying log files whose names differ from names used by the Handler.</p>
<div class="fragment"><div class="line">ReplayOptions replayOptions;</div>
<div class="line"> </div>
<div class="line">replayOptions.logs.push_back(<span class="stringliteral">&quot;1.log&quot;</span>);</div>
<div class="line">replayOptions.logs.push_back(<span class="stringliteral">&quot;2.log&quot;</span>);</div>
<div class="line">replayOptions.logs.push_back(<span class="stringliteral">&quot;3.log&quot;</span>);</div>
<div class="line"> </div>
<div class="line">handler.replayLogs(replayOptions);</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Files to be replayed must be in exact order as they were recorded by the Handler in the bounds of a single processing session.</dd></dl>
<p>From the listener callback perspective, there's no difference in whether the Handler processes the market from the network or log files.</p>
<dl class="section note"><dt>Note</dt><dd>Currently, log replay must be run with the same set of Handler's settings which were originally used.</dd></dl>
<p>A sample application demonstrating Log Replay feature can be found in samples/Backtesting subfolder of a distributive library package.</p>
<dl class="section note"><dt>Note</dt><dd>For more up-to-date information demonstrating Log Replay feature see <b>Backtesting</b> sample from the samples collection available in the distributive package. </dd></dl>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- HTML footer for doxygen 1.14.0-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="support">Technical Support: <a href="mailto:support@onixs.biz">support@onixs.biz</a></li>
    <li class="footer">Copyright &#169; 2025 OnixS. All Rights Reserved.</li>
  </ul>
</div>
</body>
</html>
